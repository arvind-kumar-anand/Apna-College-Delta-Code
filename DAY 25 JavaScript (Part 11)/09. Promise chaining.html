<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code by &hearts; Arvind</title>
    <style>
    </style>
</head>

<body>
    <script>
        // function saveToDb(data, success, failure) {
        //     let internetSpped = Math.floor(Math.random() * 10) + 1;
        //     if (internetSpped > 4) {
        //         success();
        //     } else {
        //         failure();
        //     }
        // }

        // saveToDb("arvind kumar",
        //     () => {
        //         console.log("success1: your data was stored");
        //         // One more time call back and data is storing
        //         saveToDb("Kitty",
        //             () => {
        //                 console.log("success2: your data was stored");
        //                 // One more time call back and data is storing
        //                 saveToDb("Raghu",
        //                     () => {
        //                         console.log("success3: your data was stored");
        //                     },
        //                     () => {
        //                         console.log("failure3: Week connection data not saved");
        //                     }
        //                 );
        //             },
        //             () => {
        //                 console.log("failure2: Week connection data not saved");
        //             }
        //         );
        //     },
        //     () => {
        //         console.log("failure1: Week connection data not saved");
        //     }
        // );


        function saveToDb(data) {
            return new Promise((resolve, reject) => {
                let internetSpped = Math.floor(Math.random() * 10) + 1;
                if (internetSpped > 4) {
                    resolve("success1: your data was stored");
                } else {
                    reject("failure1: Week connection data not saved");
                }
            })
        }
        // let request = saveToDb("Arvind Kumar Anand");// Promise object
        // console.log(saveToDb("Arvind Kumar Anand"));

        saveToDb("Arvind Kumar Anand")
            .then(() => {
                console.log("data1 is saved : and Promise was fullfilled");
                return saveToDb("Kitty");
                // saveToDb("Kitty")
                //     .then(() => {
                //         console.log("data2 is saved : and Promise was fullfilled");
                //     })
                //Do not need catch here as only one catch can catch the error here
            })
            .then(() => {
                console.log("data2 is saved : and Promise was fullfilled");
                return saveToDb("Raghu");
            })
            .then(() => {
                console.log("data3 is saved : and Promise was fullfilled");
            })
            .catch(() => {
                console.log("Failure of saving data: and Promise was rejected");
            })

    </script>
</body>

</html>